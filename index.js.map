{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from \"axios\";\n\n\n\naxios.defaults.baseURL = 'https://pixabay.com';\n\nfunction getImagesByQuery(query) {\n    return axios.get('/api/', {\n        params: {\n            key: '51813911-adef45491f9b881200172b027',\n            q: query,\n            image_type: 'photo',\n            orientation: 'horizontal',\n            safesearch: 'true',\n        \n        }\n    })\n        .then(res => {\n           return res.data;  \n            \n        }\n        )\n        .catch(function (error) {\n            console.log(error);\n        });\n}\n\nexport default getImagesByQuery;\n","import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst galleryElem = document.querySelector('.gallery');\nconst loaderElem = document.querySelector('.loader');\n\nexport function createGallery(images) {\n  const markup = templatePictures(images);\n    galleryElem.innerHTML = markup;\n    gallery.refresh();\n}\n\nfunction templatePictures(posts) {\n  return posts.map(templatePicture).join('');\n}\n\nfunction templatePicture(\n  { likes, views, comments, downloads, largeImageURL, webformatURL, tags },\n  i\n) {\n  return `<li class=\"gallery-item\"><a class=\"gallery-link\" href=\"${largeImageURL}\">\n          <img class=\"image-item\" src=\"${webformatURL}\" alt=\"${tags}\" /></a>\n          <div class=\"text-item\">\n            <div class=\"single-text\">\n              <h5>Likes</h5>\n              <p>${likes}</p>\n            </div>\n            <div class=\"single-text\">\n              <h5>Views</h5>\n              <p>${views}</p>\n            </div>\n            <div class=\"single-text\">\n              <h5>Comments</h5>\n              <p>${comments}</p>\n            </div>\n            <div class=\"single-text\">\n              <h5>Downloads</h5>\n              <p>${downloads}</p>\n            </div>\n          </div>\n        </li>`;\n}\nlet gallery = new SimpleLightbox('.gallery-link', {\n  captions: true,\n  captionsData: 'alt',\n  captionDelay: 250,\n});\n\n\nexport function clearGallery() {\n    galleryElem.innerHTML = '';\n}\n\nexport function showLoader() {\n    loaderElem.style.display = 'flex';\n}\n\nexport function hideLoader() {\n    loaderElem.style.display = 'none';\n}","import getImagesByQuery from './js/pixabay-api.js';\nimport {\n  createGallery,\n  clearGallery,\n  showLoader,\n  hideLoader,\n} from './js/render-functions.js';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst formElem = document.querySelector('.js-form');\n\ndocument.addEventListener('DOMContentLoaded', e => {\n  hideLoader();\n});\n\nformElem.addEventListener('submit', e => {\n  e.preventDefault();\n  if (e.currentTarget.elements['search-text'].value.trim() == '') {\n    return;\n  }\n  formElem.insertAdjacentHTML;\n  clearGallery();\n  showLoader();\n  getImagesByQuery(e.currentTarget.elements['search-text'].value.trim())\n    .then(res => {\n      if (res.hits.length != 0) {\n        createGallery(res.hits);\n        hideLoader();\n      } else {\n        iziToast.error({\n          title: 'Error',\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n        });\n        hideLoader();\n      }\n    })\n    .catch(e => {\n      hideLoader();\n      iziToast.error({\n        title: 'Error',\n        message:\n          'Sorry, there are no images matching your search query. Please try again!',\n      });\n      console.log(e);\n    });\n});\n"],"names":["axios","getImagesByQuery","query","res","error","galleryElem","loaderElem","createGallery","images","markup","templatePictures","gallery","posts","templatePicture","likes","views","comments","downloads","largeImageURL","webformatURL","tags","i","SimpleLightbox","clearGallery","showLoader","hideLoader","formElem","e","iziToast"],"mappings":"owBAIAA,EAAM,SAAS,QAAU,sBAEzB,SAASC,EAAiBC,EAAO,CAC7B,OAAOF,EAAM,IAAI,QAAS,CACtB,OAAQ,CACJ,IAAK,qCACL,EAAGE,EACH,WAAY,QACZ,YAAa,aACb,WAAY,MAEf,CACT,CAAK,EACI,KAAKC,GACIA,EAAI,IAGb,EACA,MAAM,SAAUC,EAAO,CACpB,QAAQ,IAAIA,CAAK,CAC7B,CAAS,CACT,CCtBA,MAAMC,EAAc,SAAS,cAAc,UAAU,EAC/CC,EAAa,SAAS,cAAc,SAAS,EAE5C,SAASC,EAAcC,EAAQ,CACpC,MAAMC,EAASC,EAAiBF,CAAM,EACpCH,EAAY,UAAYI,EACxBE,EAAQ,QAAO,CACnB,CAEA,SAASD,EAAiBE,EAAO,CAC/B,OAAOA,EAAM,IAAIC,CAAe,EAAE,KAAK,EAAE,CAC3C,CAEA,SAASA,EACP,CAAE,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,EAAW,cAAAC,EAAe,aAAAC,EAAc,KAAAC,CAAM,EACxEC,EACA,CACA,MAAO,0DAA0DH,CAAa;AAAA,yCACvCC,CAAY,UAAUC,CAAI;AAAA;AAAA;AAAA;AAAA,mBAIhDN,CAAK;AAAA;AAAA;AAAA;AAAA,mBAILC,CAAK;AAAA;AAAA;AAAA;AAAA,mBAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,mBAIRC,CAAS;AAAA;AAAA;AAAA,cAI5B,CACA,IAAIN,EAAU,IAAIW,EAAe,gBAAiB,CAChD,SAAU,GACV,aAAc,MACd,aAAc,GAChB,CAAC,EAGM,SAASC,GAAe,CAC3BlB,EAAY,UAAY,EAC5B,CAEO,SAASmB,GAAa,CACzBlB,EAAW,MAAM,QAAU,MAC/B,CAEO,SAASmB,GAAa,CACzBnB,EAAW,MAAM,QAAU,MAC/B,CCjDA,MAAMoB,EAAW,SAAS,cAAc,UAAU,EAElD,SAAS,iBAAiB,mBAAoBC,GAAK,CACjDF,GACF,CAAC,EAEDC,EAAS,iBAAiB,SAAUC,GAAK,CACvCA,EAAE,eAAc,EACZA,EAAE,cAAc,SAAS,aAAa,EAAE,MAAM,KAAM,GAAI,KAG5DD,EAAS,mBACTH,IACAC,IACAvB,EAAiB0B,EAAE,cAAc,SAAS,aAAa,EAAE,MAAM,MAAM,EAClE,KAAKxB,GAAO,CACPA,EAAI,KAAK,QAAU,GACrBI,EAAcJ,EAAI,IAAI,EACtBsB,MAEAG,EAAS,MAAM,CACb,MAAO,QACP,QACE,0EACZ,CAAS,EACDH,IAER,CAAK,EACA,MAAME,GAAK,CACVF,IACAG,EAAS,MAAM,CACb,MAAO,QACP,QACE,0EACV,CAAO,EACD,QAAQ,IAAID,CAAC,CACnB,CAAK,EACL,CAAC"}